\chapter{Аналитическая часть}

Расстояния Левенштейна и Дамерау-Левенштейна \cite{Levenshtein} -- это минимальное количество операций, необходимых для преобразования одной строки в другую. Различие между этими расстояниями заключается в наборе допустимых операций. 

В расстоянии Левенштейна расссматриваются такие действия над символами, как вставка (I-insert), удаление (D-delete) и замена (R-replace). Также вводится операция, которая не требует никаких действий -- совпадение (M-match).

В расстоянии Дамерау-Левенштейна в дополнение к перечисленным операциям вводится также перестановка соседних символов (X-xchange).

Данным операциям можно назначить цену (штраф). Часто используется следующий набор штрафов: для операции M он равен нулю, для остальных (I, D, R, X) -- единице. 

Тогда задача нахождения расстояний Дамерау-Левенштейна сводится к поиску последовательности действий, минимизирующих суммарный штраф. Это можно сделать с помощью рекуррентных формул.

\section{Расстояние Левенштейна}
 
Пусть дано две строки $S_{1}$ и $S_{2}$. Тогда расстояние Левенштейна можно найти по рекуррентной формуле (\ref{eq:ref1}):

\begin{equation}
	D(S_1[1...i],S_2[1...j]) = \left\{ \begin{array}{ll}
		$0, если i == 0, j == 0$\\
		$j, если i == 0, j > 0$\\
		$i, если j == 0, i > 0$\\
		min(\\
		D(S_1[1...i],S_2[1...j-1]) + 1,\\
		D(S_1[1...i-1], S_2[1...j]) + 1, & $j>0, i>0$\\
		D(S_1[1...i-1], S_2[1...j-1]) + \\
		\left[ 
		\begin{array}{c} 
			$0, если $S_1$[i] == $S_2$[j]$\\
			$1, иначе$
		\end{array}
		\label{eq:ref1}
		\right.\\
		)
	\end{array} \right.
\end{equation}


Первые три формулы в системе (1.1) являются тривиальными и подразумевают, соответственно: отсутствие действий (совпадение, так как обе строки пусты), вставку j символов в пустую $S_{1}$ для создания строки-копии $S_{2}$ длиной j, удаление всех i символов из строки $S_{1}$ для совпадения с пустой строкой $S_{2}$. 

В дальнейшем необходимо выбирать минимум из штрафов, которые будут порождены операциями вставки символа в $S_{1}$ (первая формула в группе min), удаления символа из $S_{1}$, (вторая форумла в группе min), а также совпадения или замены, в зависимости от равенства рассматриваемых на данном этапе символов строк (третья формула в группе min).


\section{Расстояние Дамерау-Левенштейна}
 
Расстояние Дамерау-Левенштейна между строками $S_{1}$ и $S_{2}$ рассчитывается по схожей с (\ref{eq:ref1}) рекуррентной формуле. Отличие состоит лишь в добавлении четвертого возможного варианта (\ref{eq:ref2}) в группу min:

\begin{equation}
	\left[ 
	\begin{array}{c} 
		D(S_1[1...i-2],S_2[1...j-2]) + 1, $ если $ $i, j>1, $a_i=b_{j-1}, b_j=a_{i-1}\\
		\infty $ , иначе$ 
	\end{array}
	\right.\\
	\label{eq:ref2}
\end{equation}

Этот вариант подразумевает перестановку соседних символов в $S_{1}$, если длины обеих строк больше единицы, и соседние рассматриваемые символы в $S_{1}$ и $S_{2}$ крест-накрест равны. Если же хотя бы одно из условий не выполняется, то данная операция не учитывается при поиске минимума.

Итоговая же формула для поиска расстояния Дамерау-Левенштейна имеет следующиий вид (\ref{eq:ref3}):

\begin{equation}
	D(S_1[1...i],S_2[1...j]) = \left\{ \begin{array}{ll}
		$0, если i == 0, j == 0$\\
		$j, если i == 0, j > 0$\\
		$i, если j == 0, i > 0$ 	\label{eq:ref3}\\ 
		min(\\
		D(S_1[1...i],S_2[1...j-1]) + 1,\\
		D(S_1[1...i-1], S_2[1...j]) + 1, & $j>0, i>0$\\
		D(S_1[1...i-1], S_2[1...j-1]) + \\
		\left[ 
		\begin{array}{c} 
			$0, если $S_1$[i] == $S_2$[j]$\\
			$1, иначе$
		\end{array}\\,\\
		
		
		
			\left[ 
		\begin{array}{c} 
			D(S_1[1...i-2],S_2[1...j-2]) + 1, \\
			$ если $ $i, j>1, $a_i=b_{j-1}, b_j=a_{i-1};\\
			\infty $ , иначе$ 
		\end{array}
		
		
		
		\right.\\
		)
	\end{array} \right.
\end{equation}

\section*{Вывод}
В данном разделе были рассмотрены алгоритмы нахождения расстояния Левенштейна и Дамерау-Левенштейна, который является модификаций первого, учитывающего возможность перестановки соседних символов. Формулы Левенштейна и Дамерау-Левенштейна для рассчета расстояния между строками задаются рекурсивно, а следовательно, алгоритмы могут быть реализованы как рекурсивно, так и итеративно.